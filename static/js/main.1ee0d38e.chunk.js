(this["webpackJsonppoint-game-react"]=this["webpackJsonppoint-game-react"]||[]).push([[0],{10:function(e,t,n){e.exports={imageGrid:"LearnRoute_imageGrid__39iJh",questImageContainer:"LearnRoute_questImageContainer__3VCF3",answerImageContainer:"LearnRoute_answerImageContainer__35uX4",input:"LearnRoute_input__3nB-G",result:"LearnRoute_result__3Yo_M",good:"LearnRoute_good__EVANt LearnRoute_result__3Yo_M",bad:"LearnRoute_bad__1tRC3 LearnRoute_result__3Yo_M",answerForm:"LearnRoute_answerForm__28i-N"}},28:function(e,t,n){},29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(20),i=n.n(c),o=(n(28),n(4)),u=(n(29),n(9)),l=n(2),s=n(21),j=n(8);function d(e,t){var n=[["\u0105","a"],["\u0107","c"],["\u0119","e"],["\u0142","l"],["\u0144","n"],["\xf3","o"],["\u015b","s"],["\u017a","z"],["\u017c","z"]],r=function(e){return function(e){return e.replaceAll(/[^a-z ]/g,"")}(function(e){var t,r=e,a=Object(s.a)(n);try{for(a.s();!(t=a.n()).done;){var c=Object(o.a)(t.value,2),i=c[0],u=c[1];r=r.replaceAll(i,u)}}catch(l){a.e(l)}finally{a.f()}return r}(e.toLowerCase()))};return r(e)===r(t)}function b(e){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.flatMap((function(e){return t.map((function(t){return[e,t].flat()}))}))}))};return function n(r,a){return a>e.length?r:n([].concat(Object(j.a)(r),Object(j.a)(t.apply(void 0,Object(j.a)(Array(a).fill(e))))),a+1)}(e.map((function(e){return[e]})),2).filter((function(e){return new Set(e).size===e.length})).map((function(e){return e.join(" ")}))}var f=function(e){return new Promise((function(t){var n=new Image;n.onload=t,n.onerror=t,n.src=e}))},m=n(1);function O(e){var t=e.sectionData,n=Object(r.useState)(null),a=Object(o.a)(n,2),c=a[0],i=a[1];return Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{children:"Point Game"}),Object(m.jsx)("div",{children:Object(m.jsx)(u.b,{to:"/train/all",children:"Wszystkie dzia\u0142y"})}),t?t.map((function(e){return Object(m.jsx)("div",{children:Object(m.jsx)(u.b,{to:"/train/".concat(e.codeName),children:e.friendlyName})},e.codeName)})):"",Object(m.jsx)("div",{children:"Je\u015bli nie szkoda ci internetu to dla p\u0142ynniejszego dzia\u0142ania aplikacji mo\u017cesz na zapas pobra\u0107 z g\xf3ry wszystkie zdj\u0119cia do pami\u0119ci podr\u0119cznej"}),Object(m.jsx)("button",{onClick:function(e){e.preventDefault(),i(!1);var n=t.flatMap((function(e){return e.items.map((function(e){return e.imageUrl}))}));Promise.all(n.map((function(e){return f(e)}))).then((function(){i(!0)}))},children:"Wczytaj obrazki"}),!1===c?Object(m.jsx)("div",{children:"Wczytywanie obrazk\xf3w..."}):"",!0===c?Object(m.jsx)("div",{children:"Obrazki wczytane"}):""]})}var h=n(18),p=n(10),g=n.n(p);function v(e){var t=e.sectionData,n=Object(l.g)().sectionCodeName,a=Object(r.useState)(null),c=Object(o.a)(a,2),i=c[0],s=c[1],O=Object(r.useState)(null),p=Object(o.a)(O,2),v=p[0],x=p[1],z=Object(r.useState)(null),y=Object(o.a)(z,2),w=y[0],_=y[1],N=Object(r.useState)(null),k=Object(o.a)(N,2),C=k[0],S=k[1],L=Object(r.useState)(""),A=Object(o.a)(L,2),F=A[0],R=A[1],D=Object(r.useRef)(null),M=null!==i&&void 0!==i?i:[],P=Object(o.a)(M,1)[0];Object(r.useEffect)((function(){var e=function(e){return function(t){return Object(h.a)(Object(h.a)({},t),{},{sectionFriendlyName:e.friendlyName})}},r=function(e){s(function(e){for(var t,n=Object(j.a)(e),r=n.length;0!==r;){t=Math.floor(Math.random()*r),r--;var a=[n[t],n[r]];n[r]=a[0],n[t]=a[1]}return n}(e))};if("all"===n)r(t.flatMap((function(t){return t.items.map(e(t))})));else{var a=t.find((function(e){return e.codeName===n}));if(null==a)return s(null),void x(null);r(a.items.map(e(a)))}x([]),S(null)}),[n,t]),Object(r.useEffect)((function(){if(i){var e=i[1];e&&f(e.imageUrl)}}),[i]);var I=function(e,t){e&&e.preventDefault(),t?(s(i.slice(1)),x([].concat(Object(j.a)(v),[P]))):i.length>1&&s([].concat(Object(j.a)(i.slice(1,2)),[P],Object(j.a)(i.slice(2)))),_(!1),S(null),R(""),D.current.focus()};if(null==i)return Object(m.jsxs)("div",{children:["Nie istnieje taka sekcja, wr\xf3\u0107 do ",Object(m.jsx)(u.b,{to:"/",children:"strony g\u0142\xf3wnej"})]});if(null==P)return Object(m.jsxs)("div",{children:["Brawo, zda\u0142x\u015b!!!!!!!! ",Object(m.jsx)("button",{onClick:function(){return window.history.go(0)},children:" Zacznij od nowa"})," b\u0105d\u017a",Object(m.jsx)(u.b,{to:"/",children:" przejd\u017a do menu g\u0142\xf3wnego"}),", ewentualnie id\u017a spa\u0107"]});var q=function(e){e&&e.preventDefault(),_(!0)};return Object(m.jsxs)("div",{children:[Object(m.jsxs)("div",{className:g.a.imageGrid,children:[Object(m.jsx)("div",{className:g.a.questImageContainer,children:Object(m.jsx)("img",{src:P.imageUrl,alt:"pytanie"})}),w?Object(m.jsx)("div",{className:g.a.answerImageContainer,children:P.names.join(" | ")}):""]}),Object(m.jsxs)("div",{children:[w?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("button",{onClick:function(e){return I(e,!0)},children:"Wiem"}),Object(m.jsx)("button",{onClick:function(e){return I(e,!1)},children:"Nie wiem"})]}):Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("button",{onClick:q,children:"Poka\u017c odpowied\u017a"})}),Object(m.jsxs)("form",{className:g.a.answerForm,onSubmit:function(e){e.preventDefault();var t,n=(t=F,b(P.names).some((function(e){return d(e,t)})));""!==F?S(n):q(),n&&(C&&I(null,!0),q())},children:[Object(m.jsx)("input",{ref:D,type:"text",name:"answer",className:g.a.input,onChange:function(e){S(null),R(e.target.value)},value:F}),Object(m.jsx)("button",{type:"submit",children:"Sprawd\u017a"})]}),!0===C?Object(m.jsx)("span",{className:g.a.good,children:"dobrze"}):"",!1===C?Object(m.jsx)("span",{className:g.a.bad,children:"\u017ale"}):""]}),Object(m.jsxs)("div",{children:["wiesz: ",v.length," | nie wiesz: ",i.length]}),Object(m.jsx)("div",{children:Object(m.jsx)("progress",{id:"file",max:v.length+i.length,value:v.length})})]})}var x=function(){var e=Object(r.useState)(null),t=Object(o.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),i=Object(o.a)(c,2),s=i[0],j=i[1],d=Object(r.useState)(null),b=Object(o.a)(d,2),f=b[0],h=b[1],p=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("tbody");return Array.from(t.children)};return Object(r.useEffect)((function(){fetch("/point-game/data/zzz_dzia\u0142y.html").then((function(e){return e.text()})).then((function(e){var t=p(e).map((function(e){return Array.from(e.querySelectorAll("td")).map((function(e){return e.textContent}))}));a(t)})).catch((function(e){console.log(e),h("Nie uda\u0142o si\u0119 pobra\u0107 lub przetworzy\u0107 pliku zzz_dzia\u0142y.html")}))}),[]),Object(r.useEffect)((function(){n&&Promise.all(n.map((function(e){var t=Object(o.a)(e,2)[1];return fetch("/point-game/data/".concat(t,".html"))}))).then((function(e){return Promise.all(e.map((function(e){return e.text()})))})).then((function(e){return e.map((function(e){return p(e).slice(1).map((function(e){var t=Array.from(e.querySelectorAll("td"));return{imageUrl:t[0].children.item(0).children.item(0).getAttribute("src").replace(/=w\d+-h\d+$/,""),names:t.slice(1).map((function(e){return e.innerText}))}}))}))})).then((function(e){return n.map((function(t,n){var r=Object(o.a)(t,2);return{codeName:r[0],friendlyName:r[1],items:e[n]}}))})).then((function(e){j(e)})).catch((function(e){console.log(e),h("Nie uda\u0142o si\u0119 pobra\u0107 lub przetworzy\u0107 jednego z plik\xf3w z fiszkami")}))}),[n]),console.log(s),Object(m.jsxs)("div",{className:"App",children:[null!==f&&void 0!==f?f:"",s?Object(m.jsx)(u.a,{children:Object(m.jsxs)(l.d,{children:[Object(m.jsx)(l.b,{path:"/",exact:!0,children:Object(m.jsx)(O,{sectionData:s})}),Object(m.jsx)(l.b,{path:"/train/:sectionCodeName",children:Object(m.jsx)(v,{sectionData:s})}),Object(m.jsx)(l.a,{to:"/"})]})}):Object(m.jsx)("div",{children:"Pobieranie aktualnych danych"})]})},z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),z()}},[[36,1,2]]]);
//# sourceMappingURL=main.1ee0d38e.chunk.js.map