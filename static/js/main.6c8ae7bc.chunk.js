(this["webpackJsonppoint-game-react"]=this["webpackJsonppoint-game-react"]||[]).push([[0],{14:function(e,t,n){e.exports={imageGrid:"LearnRoute_imageGrid__39iJh",questImageContainer:"LearnRoute_questImageContainer__3VCF3",answerImageContainer:"LearnRoute_answerImageContainer__35uX4",input:"LearnRoute_input__3nB-G",result:"LearnRoute_result__3Yo_M",good:"LearnRoute_good__EVANt LearnRoute_result__3Yo_M",bad:"LearnRoute_bad__1tRC3 LearnRoute_result__3Yo_M",answerForm:"LearnRoute_answerForm__28i-N"}},38:function(e,t,n){},39:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(28),i=n.n(r),o=(n(38),n(5)),u=(n(39),n(13)),l=n(2),s=n(1);function j(e){var t=e.sectionData,n=Object(a.useState)(null),c=Object(o.a)(n,2),r=c[0],i=c[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{children:"Point Game"}),Object(s.jsx)("div",{children:Object(s.jsx)(u.b,{to:"/train/all",children:"Wszystkie dzia\u0142y"})}),t?t.map((function(e){return Object(s.jsx)("div",{children:Object(s.jsx)(u.b,{to:"/train/".concat(e.codeName),children:e.friendlyName})},e.codeName)})):"",Object(s.jsx)("div",{children:"Je\u015bli nie szkoda ci internetu to dla p\u0142ynniejszego dzia\u0142ania aplikacji mo\u017cesz na zapas pobra\u0107 z g\xf3ry wszystkie zdj\u0119cia do pami\u0119ci podr\u0119cznej"}),Object(s.jsx)("button",{onClick:function(e){e.preventDefault(),i(!1);var n=t.map((function(e){return e.items.map((function(e){return e.imageUrl}))})).flat();Promise.all(n.map((function(e){return function(e){return new Promise((function(t){var n=new Image;n.onload=t,n.onerror=t,n.src=e}))}(e.src)}))).then((function(){i(!0)}))},children:"Wczytaj obrazki"}),!1===r?Object(s.jsx)("div",{children:"Wczytywanie obrazk\xf3w..."}):"",!0===r?Object(s.jsx)("div",{children:"Obrazki wczytane"}):""]})}var d=n(11),b=n(25),m=n(30);function f(e,t){var n=[["\u0105","a"],["\u0107","c"],["\u0119","e"],["\u0142","l"],["\u0144","n"],["\xf3","o"],["\u015b","s"],["\u017a","z"],["\u017c","z"]],a=function(e){return function(e){return e.replaceAll(/[^a-z ]/g,"")}(function(e){var t,a=e,c=Object(m.a)(n);try{for(c.s();!(t=c.n()).done;){var r=Object(o.a)(t.value,2),i=r[0],u=r[1];a=a.replaceAll(i,u)}}catch(l){c.e(l)}finally{c.f()}return a}(e.toLowerCase()))};return console.log(t,a(t)),a(e)===a(t)}var O=n(14),h=n.n(O),p=n(33);function x(e){var t=e.sectionData,n=Object(l.g)().sectionCodeName,c=Object(a.useState)(null),r=Object(o.a)(c,2),i=r[0],j=r[1],m=Object(a.useState)(null),O=Object(o.a)(m,2),x=O[0],v=O[1],g=null!==i&&void 0!==i?i:[],_=Object(o.a)(g,1)[0],w=Object(a.useState)(null),y=Object(o.a)(w,2),z=y[0],N=y[1],C=Object(a.useState)(null),k=Object(o.a)(C,2),S=k[0],L=k[1],F=Object(a.useState)(""),R=Object(o.a)(F,2),A=R[0],D=R[1],P=Object(a.useRef)(null);Object(p.a)({});console.log(i),Object(a.useEffect)((function(){var e=function(e){return function(t){return Object(b.a)(Object(b.a)({},t),{},{sectionFriendlyName:e.friendlyName})}},a=function(e){j(function(e){for(var t,n=Object(d.a)(e),a=n.length;0!==a;){t=Math.floor(Math.random()*a),a--;var c=[n[t],n[a]];n[a]=c[0],n[t]=c[1]}return n}(e))};if("all"===n)a(t.map((function(t){return t.items.map(e(t))})).flat());else{var c=t.find((function(e){return e.codeName===n}));if(null==c)return j(null),void v(null);a(c.items.map(e(c)))}v([]),L(null)}),[n,t]);var I=function(e,t){e&&e.preventDefault(),t?(j(i.slice(1)),v([].concat(Object(d.a)(x),[_]))):i.length>1&&j([].concat(Object(d.a)(i.slice(1,2)),[_],Object(d.a)(i.slice(2)))),N(!1),L(null),D(""),P.current.focus()};if(null==i)return Object(s.jsxs)("div",{children:["Nie istnieje taka sekcja, wr\xf3\u0107 do ",Object(s.jsx)(u.b,{to:"/",children:"strony g\u0142\xf3wnej"})]});if(null==_)return Object(s.jsxs)("div",{children:["Brawo, zda\u0142x\u015b!!!!!!!! ",Object(s.jsx)("button",{onClick:function(){return window.history.go(0)},children:"Zacznij od nowa"})," b\u0105d\u017a ",Object(s.jsx)(u.b,{to:"/",children:"przejd\u017a do menu g\u0142\xf3wnego"}),", ewentualnie id\u017a spa\u0107"]});var M=function(e){e&&e.preventDefault(),N(!0)};return Object(s.jsxs)("div",{children:[Object(s.jsxs)("div",{className:h.a.imageGrid,children:[Object(s.jsx)("div",{className:h.a.questImageContainer,children:Object(s.jsx)("img",{src:_.imageUrl})}),z?Object(s.jsx)("div",{className:h.a.answerImageContainer,children:_.names.join(" | ")}):""]}),Object(s.jsxs)("div",{children:[z?Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("button",{onClick:function(e){return I(e,!0)},children:"Wiem"}),Object(s.jsx)("button",{onClick:function(e){return I(e,!1)},children:"Nie wiem"})]}):Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("button",{onClick:M,children:"Poka\u017c odpowied\u017a"})}),Object(s.jsxs)("form",{className:h.a.answerForm,onSubmit:function(e){e.preventDefault();var t=_.names,n=t.map((function(e){return _.names.map((function(t){return"".concat(e," ").concat(t)}))})).flat(),a=n.map((function(e){return _.names.map((function(t){return"".concat(e," ").concat(t)}))})).flat(),c=[].concat(Object(d.a)(t),Object(d.a)(n),Object(d.a)(a));console.log(c);var r=c.some((function(e){return f(e,A)}));""!==A?L(r):M(),r&&(S&&I(null,!0),M())},children:[Object(s.jsx)("input",{ref:P,type:"text",name:"answer",className:h.a.input,onChange:function(e){L(null),D(e.target.value)},value:A}),Object(s.jsx)("button",{type:"submit",children:"Sprawd\u017a"})]}),!0===S?Object(s.jsx)("span",{className:h.a.good,children:"dobrze"}):"",!1===S?Object(s.jsx)("span",{className:h.a.bad,children:"\u017ale"}):""]}),Object(s.jsxs)("div",{children:["wiesz: ",x.length," | nie wiesz: ",i.length]})]})}var v=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),i=Object(o.a)(r,2),d=i[0],b=i[1],m=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("tbody");return Array.from(t.children)};return Object(a.useEffect)((function(){fetch("/point-game/data/zzz_dzia\u0142y.html").then((function(e){return e.text()})).then((function(e){var t=m(e).map((function(e){return Array.from(e.querySelectorAll("td")).map((function(e){return e.textContent}))}));c(t)}))}),[]),Object(a.useEffect)((function(){n&&Promise.all(n.map((function(e){var t=Object(o.a)(e,2)[1];return fetch("/point-game/data/".concat(t,".html"))}))).then((function(e){return Promise.all(e.map((function(e){return e.text()})))})).then((function(e){return e.map((function(e){return m(e).slice(1).map((function(e){var t=Array.from(e.querySelectorAll("td"));return{imageUrl:t[0].children.item(0).children.item(0).getAttribute("src").replace(/=w\d+-h\d+$/,""),names:t.slice(1).map((function(e){return e.innerText}))}}))}))})).then((function(e){return n.map((function(t,n){var a=Object(o.a)(t,2);return{codeName:a[0],friendlyName:a[1],items:e[n]}}))})).then((function(e){b(e)}))}),[n]),console.log(d),Object(s.jsx)("div",{className:"App",children:d?Object(s.jsx)(u.a,{children:Object(s.jsxs)(l.d,{children:[Object(s.jsx)(l.b,{path:"/",exact:!0,children:Object(s.jsx)(j,{sectionData:d})}),Object(s.jsx)(l.b,{path:"/train/:sectionCodeName",children:Object(s.jsx)(x,{sectionData:d})}),Object(s.jsx)(l.a,{to:"/"})]})}):Object(s.jsx)("div",{children:"Pobieranie aktualnych danych"})})},g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))};i.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root")),g()}},[[45,1,2]]]);
//# sourceMappingURL=main.6c8ae7bc.chunk.js.map