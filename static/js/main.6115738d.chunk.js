(this["webpackJsonppoint-game-react"]=this["webpackJsonppoint-game-react"]||[]).push([[0],{16:function(e,t,n){e.exports={container:"Loading_container__16Gyy",tip:"Loading_tip__1NuVi",subtext:"Loading_subtext__2fBUq"}},20:function(e,t,n){e.exports={background:"SettingsModal_background__ac1JE",card:"SettingsModal_card__39a-1"}},31:function(e,t,n){},32:function(e,t,n){},39:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(23),c=n.n(r),o=(n(31),n(2)),s=(n(32),n(11)),l=n(3),u=n(24),j=n(10);function d(e,t){var n=[["\u0105","a"],["\u0107","c"],["\u0119","e"],["\u0142","l"],["\u0144","n"],["\xf3","o"],["\u015b","s"],["\u017a","z"],["\u017c","z"]],a=function(e){return function(e){return e.replaceAll(/[^a-z ]/g,"")}(function(e){var t,a=e,i=Object(u.a)(n);try{for(i.s();!(t=i.n()).done;){var r=Object(o.a)(t.value,2),c=r[0],s=r[1];a=a.replaceAll(c,s)}}catch(l){i.e(l)}finally{i.f()}return a}(e.toLowerCase()))};return a(e)===a(t)}function b(e){var t=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return e.flatMap((function(e){return t.map((function(t){return[e,t].flat()}))}))}))};return function n(a,i){return i>e.length?a:n([].concat(Object(j.a)(a),Object(j.a)(t.apply(void 0,Object(j.a)(Array(i).fill(e))))),i+1)}(e.map((function(e){return[e]})),2).filter((function(e){return new Set(e).size===e.length})).map((function(e){return e.join(" ")}))}var p=function(e){return new Promise((function(t){var n=new Image;n.onload=t,n.onerror=t,n.src=e}))},f=n(5),m=n.n(f),O=["sen sprzyja zapami\u0119tywaniu","pij dwa litry wody dziennie","organizm wymaga regularnego jedzenia"],h=function(){return(e=O)[Math.floor(Math.random()*e.length)];var e},x=n(0);function v(e){var t=e.sectionData,n=Object(a.useState)(null),i=Object(o.a)(n,2),r=i[0],c=i[1],l=Object(a.useState)(null),u=Object(o.a)(l,2),j=u[0],d=u[1];return Object(a.useEffect)((function(){d(h())}),[]),Object(x.jsxs)("div",{className:m.a.body,children:[Object(x.jsx)("nav",{className:m.a.navbar,children:Object(x.jsx)("h1",{className:m.a.title,children:"Point Game"})}),Object(x.jsx)("div",{className:m.a.tipBar,children:Object(x.jsxs)("div",{className:m.a.tipBarContent,children:["protip \u2014 ",j]})}),Object(x.jsx)("div",{className:m.a.mainContainer,children:Object(x.jsxs)("main",{className:m.a.main,children:[Object(x.jsx)(s.b,{to:"/train/all",className:m.a.sectionLink,children:Object(x.jsx)("span",{className:m.a.sectionLinkText,children:"Wszystkie dzia\u0142y"})}),t?t.map((function(e){return Object(x.jsx)(s.b,{className:m.a.sectionLink,to:"/train/".concat(e.codeName),children:Object(x.jsx)("span",{className:m.a.sectionLinkText,children:e.friendlyName})},e.codeName)})):"",Object(x.jsxs)("section",{className:m.a.optimize,children:[Object(x.jsx)("div",{children:"Je\u015bli nie szkoda ci internetu to dla p\u0142ynniejszego dzia\u0142ania aplikacji mo\u017cesz na zapas pobra\u0107 z g\xf3ry wszystkie zdj\u0119cia do pami\u0119ci podr\u0119cznej"}),Object(x.jsx)("button",{className:m.a.optimizeButton,onClick:function(e){e.preventDefault(),c(!1);var n=t.flatMap((function(e){return e.items.map((function(e){return e.imageUrl}))}));Promise.all(n.map((function(e){return p(e)}))).then((function(){c(!0)}))},children:"Wczytaj obrazki"}),!1===r?Object(x.jsx)("div",{children:"Wczytywanie obrazk\xf3w..."}):"",!0===r?Object(x.jsx)("div",{children:"Obrazki wczytane"}):""]})]})}),Object(x.jsx)("footer",{className:m.a.footer,children:Object(x.jsx)("div",{children:"Copyright Nicofisi 2021 | Wersja 2.8.0"})})]})}var _=n(21),g=n(9),w=n.n(g),y=function(e,t){if(null==t)throw Error("The default value must not be null");var n=Object(a.useState)(null),i=Object(o.a)(n,2),r=i[0],c=i[1],s=function(){var n=localStorage.getItem(e);if(console.log("reading",n),null==n)c(t);else{var a=JSON.parse(n);c(a)}};return null==r&&s(),[r,function(t){console.log("saving",t),localStorage.setItem(e,JSON.stringify(t)),c(t)},s]},z=n(20),N=n.n(z);function C(e){var t=e.handleClose,n=Object(a.useRef)(),i=y("show-answer-over-image",!1),r=Object(o.a)(i,2),c=r[0],s=r[1];console.log("XD",c);return Object(x.jsx)("div",{className:N.a.background,ref:n,onClick:function(e){e.target===n.current&&t()},children:Object(x.jsxs)("article",{className:N.a.card,children:[Object(x.jsx)("h1",{children:"Ustawienia"}),Object(x.jsxs)("p",{children:[Object(x.jsx)("input",{type:"checkbox",id:"answer-over-image",name:"answer-over-image",checked:null!==c&&void 0!==c&&c,onChange:function(e){s(e.target.checked)}}),Object(x.jsx)("label",{htmlFor:"answer-over-image",children:"Wy\u015bwietlaj odpowied\u017a nad obrazkiem"})]}),Object(x.jsx)("button",{onClick:function(){t()},children:"Zapisz i zamknij"})]})})}function k(e){var t=e.handleAnswerTextChanged,n=e.handleSubmitTextAnswer,i=e.handleGoNext,r=e.handleShowAnswer,c=e.isShowingSolution,s=e.isTextCorrect,l=e.userAnswerInput,u=e.solved,j=e.toSolve,d=e.userAnswer,b=e.current,p=Object(a.useState)(!1),f=Object(o.a)(p,2),m=f[0],O=f[1],h=y("show-answer-over-image",!1),v=Object(o.a)(h,3),_=v[0],g=(v[1],v[2]),z=c?b.names.map((function(e){return Object(x.jsx)("div",{className:w.a.answerOption,children:e},e)})):"";return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:w.a.learnGrid,children:[Object(x.jsxs)("div",{className:w.a.questContainer,children:[Object(x.jsx)("img",{src:b.imageUrl,alt:"tutaj powinien by\u0107 obrazek z pytaniem"}),c&&_?Object(x.jsx)("div",{className:w.a.answerOverQuest,children:z}):""]}),c?Object(x.jsx)("div",{className:w.a.answerContainer,children:z}):"",Object(x.jsxs)("div",{className:w.a.inputContainer,children:[Object(x.jsxs)("div",{className:w.a.inputUpper,children:[Object(x.jsxs)("div",{className:w.a.inputUpperUpper,children:[c?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("button",{onClick:function(e){return i(e,!0)},children:"Wiem"}),Object(x.jsx)("button",{onClick:function(e){return i(e,!1)},children:"Nie wiem"})]}):Object(x.jsx)(x.Fragment,{children:Object(x.jsx)("button",{onClick:r,children:"Poka\u017c odpowied\u017a"})}),Object(x.jsxs)("form",{className:w.a.answerForm,onSubmit:n,autoComplete:"off",children:[Object(x.jsx)("input",{ref:l,type:"text",name:"answer",className:w.a.input,onChange:t,value:d,autoComplete:"off"}),Object(x.jsx)("button",{type:"submit",children:"Sprawd\u017a"})]})]}),Object(x.jsxs)("div",{children:[!0===s?Object(x.jsx)("span",{className:w.a.good,children:"dobrze"}):"",!1===s?Object(x.jsx)("span",{className:w.a.bad,children:"\u017ale"}):""]})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("button",{onClick:function(){O(!0)},children:"Ustawienia"})}),Object(x.jsxs)("div",{children:["wiesz: ",u.length," | nie wiesz: ",j.length]}),Object(x.jsx)("div",{children:Object(x.jsx)("progress",{id:"file",max:u.length+j.length,value:u.length})})]})]})]}),m?Object(x.jsx)(C,{handleClose:function(){g(),O(!1)}}):""]})}function S(e){var t=e.sectionData,n=Object(l.g)().sectionCodeName,i=Object(a.useState)(null),r=Object(o.a)(i,2),c=r[0],u=r[1],f=Object(a.useState)(null),m=Object(o.a)(f,2),O=m[0],h=m[1],v=Object(a.useState)(null),g=Object(o.a)(v,2),w=g[0],y=g[1],z=Object(a.useState)(null),N=Object(o.a)(z,2),C=N[0],S=N[1],L=Object(a.useState)(""),R=Object(o.a)(L,2),D=R[0],M=R[1],A=Object(a.useRef)(null),U=null!==c&&void 0!==c?c:[],B=Object(o.a)(U,1)[0];Object(a.useEffect)((function(){var e=function(e){return function(t){return Object(_.a)(Object(_.a)({},t),{},{sectionFriendlyName:e.friendlyName})}},a=function(e){u(function(e){for(var t,n=Object(j.a)(e),a=n.length;0!==a;){t=Math.floor(Math.random()*a),a--;var i=[n[t],n[a]];n[a]=i[0],n[t]=i[1]}return n}(e))};if("all"===n)a(t.flatMap((function(t){return t.items.map(e(t))})));else{var i=t.find((function(e){return e.codeName===n}));if(null==i)return u(null),void h(null);a(i.items.map(e(i)))}h([]),S(null)}),[n,t]),Object(a.useEffect)((function(){if(c){var e=c[1];e&&p(e.imageUrl)}}),[c]);var T=function(e,t){e&&e.preventDefault(),t?(u(c.slice(1)),h([].concat(Object(j.a)(O),[B]))):c.length>1&&u([].concat(Object(j.a)(c.slice(1,2)),[B],Object(j.a)(c.slice(2)))),y(!1),S(null),M(""),A.current.focus()};if(null==c)return Object(x.jsxs)("div",{children:["Nie istnieje taka sekcja, wr\xf3\u0107 do ",Object(x.jsx)(s.b,{to:"/",children:"strony g\u0142\xf3wnej"})]});if(null==B)return Object(x.jsxs)("div",{children:["Brawo, zda\u0142x\u015b!!!!!!!! ",Object(x.jsx)("button",{onClick:function(){return window.history.go(0)},children:" Zacznij od nowa"})," b\u0105d\u017a",Object(x.jsx)(s.b,{to:"/",children:" przejd\u017a do menu g\u0142\xf3wnego"}),", ewentualnie id\u017a spa\u0107"]});var P=function(e){e&&e.preventDefault(),y(!0)};return Object(x.jsx)(k,{handleAnswerTextChanged:function(e){S(null),M(e.target.value)},handleSubmitTextAnswer:function(e){e.preventDefault();var t,n=(t=D,b(B.names).some((function(e){return d(e,t)})));""!==D?S(n):P(),n&&(C&&T(null,!0),P())},handleGoNext:T,handleShowAnswer:P,isShowingSolution:w,isTextCorrect:C,userAnswerInput:A,solved:O,toSolve:c,userAnswer:D,current:B})}var L=n(16),R=n.n(L);function D(e){var t=e.error,n=Object(a.useState)(null),i=Object(o.a)(n,2),r=i[0],c=i[1];return Object(a.useEffect)((function(){c(h())}),[]),Object(x.jsxs)("div",{className:R.a.container,children:[Object(x.jsx)("div",{className:R.a.tip,children:r}),Object(x.jsx)("div",{className:R.a.subtext,children:null!==t&&void 0!==t?t:"\u0142adowanie"})]})}var M=function(){var e=Object(a.useState)(null),t=Object(o.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)(null),c=Object(o.a)(r,2),u=c[0],j=c[1],d=Object(a.useState)(null),b=Object(o.a)(d,2),p=b[0],f=b[1],m=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("tbody");return Array.from(t.children)};return Object(a.useEffect)((function(){fetch("/point-game/data/zzz_dzia\u0142y.html").then((function(e){return e.text()})).then((function(e){var t=m(e).map((function(e){return Array.from(e.querySelectorAll("td")).map((function(e){return e.textContent}))}));i(t)})).catch((function(e){console.log(e),f("nie uda\u0142o si\u0119 pobra\u0107 lub przetworzy\u0107 pliku zzz_dzia\u0142y.html")}))}),[]),Object(a.useEffect)((function(){n&&Promise.all(n.map((function(e){var t=Object(o.a)(e,2)[1];return fetch("/point-game/data/".concat(t,".html"))}))).then((function(e){return Promise.all(e.map((function(e){return e.text()})))})).then((function(e){return e.map((function(e){return m(e).slice(1).map((function(e){var t=Array.from(e.querySelectorAll("td"));return{imageUrl:t[0].children.item(0).children.item(0).getAttribute("src").replace(/=w\d+-h\d+$/,""),names:t.slice(1).map((function(e){return e.innerText}))}}))}))})).then((function(e){return n.map((function(t,n){var a=Object(o.a)(t,2);return{codeName:a[0],friendlyName:a[1],items:e[n]}}))})).then((function(e){j(e)})).catch((function(e){console.log(e),f("nie uda\u0142o si\u0119 pobra\u0107 lub przetworzy\u0107 jednego z plik\xf3w z fiszkami")}))}),[n]),Object(x.jsx)("div",{className:"App",children:u?Object(x.jsx)(s.a,{children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{path:"/",exact:!0,children:Object(x.jsx)(v,{sectionData:u})}),Object(x.jsx)(l.b,{path:"/train/:sectionCodeName",children:Object(x.jsx)(S,{sectionData:u})}),Object(x.jsx)(l.a,{to:"/"})]})}):Object(x.jsx)(D,{error:p})})},A=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,40)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(M,{})}),document.getElementById("root")),A()},5:function(e,t,n){e.exports={body:"MainRoute_body__QGLJ_",navbar:"MainRoute_navbar__3PNSI",title:"MainRoute_title__3J-OD",tipBar:"MainRoute_tipBar__2a3Y4",tipBarContent:"MainRoute_tipBarContent__dB9QA",mainContainer:"MainRoute_mainContainer__EvxId",main:"MainRoute_main__DMYZm",sectionLink:"MainRoute_sectionLink__2665C",sectionLinkText:"MainRoute_sectionLinkText__1Kxxl",optimize:"MainRoute_optimize__3ThFO",optimizeButton:"MainRoute_optimizeButton__3V3qP",footer:"MainRoute_footer__1fjBw"}},9:function(e,t,n){e.exports={learnGrid:"LearnRouteDisplay_learnGrid__1emxB",questContainer:"LearnRouteDisplay_questContainer__2KjnC",answerContainer:"LearnRouteDisplay_answerContainer__1C326",answerOption:"LearnRouteDisplay_answerOption__1ggzg",inputContainer:"LearnRouteDisplay_inputContainer__2vMHT",inputUpper:"LearnRouteDisplay_inputUpper__3gU9R",inputUpperUpper:"LearnRouteDisplay_inputUpperUpper__1H1JY",input:"LearnRouteDisplay_input__Wjr2z",result:"LearnRouteDisplay_result__22yP4",good:"LearnRouteDisplay_good__2-0XA LearnRouteDisplay_result__22yP4",bad:"LearnRouteDisplay_bad__1v4DH LearnRouteDisplay_result__22yP4",answerForm:"LearnRouteDisplay_answerForm__w58qf",answerOverQuest:"LearnRouteDisplay_answerOverQuest__3sEnt"}}},[[39,1,2]]]);
//# sourceMappingURL=main.6115738d.chunk.js.map